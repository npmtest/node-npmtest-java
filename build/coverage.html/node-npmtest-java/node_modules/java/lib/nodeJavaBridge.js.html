<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-java/node_modules/java/lib/nodeJavaBridge.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-java">npmtest-java (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-java/node_modules/java/lib/nodeJavaBridge.js</span></h1>
    <h2>
        
        Statements: <span class="metric">22.16% <small>(37 / 167)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">3.37% <small>(3 / 89)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 30)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">23.27% <small>(37 / 159)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-java/node_modules/java/lib/</a> &#187; nodeJavaBridge.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
process.env.PATH += require('../build/jvm_dll_path.json');
&nbsp;
var _ = require('lodash');
var async = require('async');
var path = require('path');
var fs = require('fs');
var binaryPath = null;
try {
  if(fs.statSync &amp;&amp; fs.statSync(path.join(__dirname, "../build/Debug/nodejavabridge_bindings.node")).isFile()) {
<span class="cstat-no" title="statement not covered" >    binaryPath = path.resolve(path.join(__dirname, "../build/Debug/nodejavabridge_bindings.node"));</span>
<span class="cstat-no" title="statement not covered" >    console.log('****** NODE-JAVA RUNNING IN DEBUG MODE ******');</span>
  }
} catch(e) {
  // do nothing fs.statSync just couldn't find the file
}
<span class="missing-if-branch" title="else path not taken" >E</span>if (!binaryPath) {
  binaryPath = path.resolve(path.join(__dirname, "../build/Release/nodejavabridge_bindings.node"));
}
var bindings = require(binaryPath);
&nbsp;
var java = module.exports = new bindings.Java();
java.classpath.push(path.resolve(__dirname, "../commons-lang3-node-java.jar"));
java.classpath.push(path.resolve(__dirname, __dirname, "../src-java"));
java.classpath.pushDir = <span class="fstat-no" title="function not covered" >function(dir) {</span>
<span class="cstat-no" title="statement not covered" >  fs.readdirSync(dir).forEach(<span class="fstat-no" title="function not covered" >function(file) {</span></span>
<span class="cstat-no" title="statement not covered" >    java.classpath.push(path.resolve(dir, file));</span>
  });
};
java.nativeBindingLocation = binaryPath;
&nbsp;
var syncSuffix = undefined;
var asyncSuffix = undefined;
var ifReadOnlySuffix = '_';
&nbsp;
var SyncCall = <span class="fstat-no" title="function not covered" >function(obj, method) {</span>
<span class="cstat-no" title="statement not covered" >  if (syncSuffix === undefined)</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Sync call made before jvm created');</span>
<span class="cstat-no" title="statement not covered" >  var syncMethodName = method + syncSuffix;</span>
<span class="cstat-no" title="statement not covered" >  if (syncMethodName in obj)</span>
<span class="cstat-no" title="statement not covered" >    return obj[syncMethodName].bind(obj);</span>
  else
<span class="cstat-no" title="statement not covered" >    throw new Error('Sync method not found:' + syncMethodName);</span>
}
&nbsp;
java.isJvmCreated = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  return typeof java.onJvmCreated !== 'function';</span>
}
&nbsp;
var clients = [];
&nbsp;
// We provide two methods for 'clients' of node-java to 'register' their use of java.
// By registering, a client gets the opportunity to be called asynchronously just before the JVM is created,
// and just after the JVM is created. The before hook function will typically be used to add to java.classpath.
// The function may peform asynchronous operations, such as async [glob](https://github.com/isaacs/node-glob)
// resolutions of wild-carded file system paths, and then notify when it has finished via either calling
// a node-style callback function, or by resolving a promise.
&nbsp;
// A client can register function hooks to be called before and after the JVM is created.
// If the client doesn't need to be called back for either function, it can pass null or undefined.
// Both before and after here are assumed to be functions that accept one argument that is a node-callback function.
java.registerClient = <span class="fstat-no" title="function not covered" >function(before, after) {</span>
<span class="cstat-no" title="statement not covered" >  var before_, after_;</span>
<span class="cstat-no" title="statement not covered" >  if (java.isJvmCreated()) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('java.registerClient() called after JVM already created.');</span>
  }
<span class="cstat-no" title="statement not covered" >  before_ = (before &amp;&amp; before.length === 0) ?</span>
<span class="fstat-no" title="function not covered" >    function(cb) {</span> <span class="cstat-no" title="statement not covered" >before(); <span class="cstat-no" title="statement not covered" ></span>cb(); </span>} :
    before;
&nbsp;
<span class="cstat-no" title="statement not covered" >  after_ = (after &amp;&amp; after.length === 0) ?</span>
<span class="fstat-no" title="function not covered" >    function(cb) {</span> <span class="cstat-no" title="statement not covered" >after(); <span class="cstat-no" title="statement not covered" ></span>cb(); </span>} :
    after;
&nbsp;
<span class="cstat-no" title="statement not covered" >  clients.push({before: before_, after: after_});</span>
}
&nbsp;
// A client can register function hooks to be called before and after the JVM is created.
// If the client doesn't need to be called back for either function, it can pass null or undefined.
// Both before and after here are assumed to be functions that return Promises/A+ `thenable` objects.
java.registerClientP = <span class="fstat-no" title="function not covered" >function(beforeP, afterP) {</span>
<span class="cstat-no" title="statement not covered" >  if (java.isJvmCreated()) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('java.registerClient() called after JVM already created.');</span>
  }
<span class="cstat-no" title="statement not covered" >  clients.push({beforeP: beforeP, afterP: afterP});</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function runBeforeHooks(done) {</span>
<span class="fstat-no" title="function not covered" >  function iterator(client, cb) {</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      if (client.before) {</span>
<span class="cstat-no" title="statement not covered" >        client.before(cb);</span>
      }
      else <span class="cstat-no" title="statement not covered" >if (client.beforeP) {</span>
<span class="cstat-no" title="statement not covered" >        client.beforeP().then(<span class="fstat-no" title="function not covered" >function(ignored) {</span> <span class="cstat-no" title="statement not covered" >cb(); </span>}, <span class="fstat-no" title="function not covered" >function(err) {</span> <span class="cstat-no" title="statement not covered" >cb(err); </span>});</span>
      }
      else {
<span class="cstat-no" title="statement not covered" >        cb();</span>
      }
    }
    catch (err) {
<span class="cstat-no" title="statement not covered" >      cb(err);</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  async.each(clients, iterator, done);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function createJVMAsync(callback) {</span>
<span class="cstat-no" title="statement not covered" >  var ignore = java.newLong(0); </span>// called just for the side effect that it will create the JVM
<span class="cstat-no" title="statement not covered" >  callback();</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function runAfterHooks(done) {</span>
<span class="fstat-no" title="function not covered" >  function iterator(client, cb) {</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      if (client.after) {</span>
<span class="cstat-no" title="statement not covered" >        client.after(cb);</span>
      }
      else <span class="cstat-no" title="statement not covered" >if (client.afterP) {</span>
<span class="cstat-no" title="statement not covered" >        client.afterP().then(<span class="fstat-no" title="function not covered" >function(ignored) {</span> <span class="cstat-no" title="statement not covered" >cb(); </span>}, <span class="fstat-no" title="function not covered" >function(err) {</span> <span class="cstat-no" title="statement not covered" >cb(err); </span>});</span>
      }
      else {
<span class="cstat-no" title="statement not covered" >        cb();</span>
      }
    }
    catch (err) {
<span class="cstat-no" title="statement not covered" >      cb(err);</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  async.each(clients, iterator, done);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function initializeAll(done) {</span>
<span class="cstat-no" title="statement not covered" >  async.series([runBeforeHooks, createJVMAsync, runAfterHooks], done);</span>
}
&nbsp;
// This function ensures that the JVM has been launched, asynchronously. The application can be notified
// when the JVM is fully created via either a node callback function, or via a promise.
// If the parameter `callback` is provided, it is assume be a node callback function.
// If the parameter is not provided, and java.asyncOptions.promisify has been specified,
// then this function will return a promise, by promisifying itself and then calling that
// promisified function.
// This function may be called multiple times -- the 2nd and subsequent calls are no-ops.
// However, once this method has been called (or the JVM is launched as a side effect of calling other java
// methods), then clients can no longer use the registerClient API.
java.ensureJvm = <span class="fstat-no" title="function not covered" >function(callback) {</span>
&nbsp;
  // First see if the promise-style API should be used.
  // This must be done first in order to ensure the proper API is used.
<span class="cstat-no" title="statement not covered" >  if (_.isUndefined(callback) &amp;&amp; java.asyncOptions &amp;&amp; _.isFunction(java.asyncOptions.promisify)) {</span>
    // Create a promisified version of this function.
<span class="cstat-no" title="statement not covered" >    var launchJvmPromise = java.asyncOptions.promisify(java.ensureJvm.bind(java));</span>
    // Call the promisified function, returning its result, which should be a promise.
<span class="cstat-no" title="statement not covered" >    return launchJvmPromise();</span>
  }
&nbsp;
  // If we get here, callback must be a node-style callback function. If not, throw an error.
  else <span class="cstat-no" title="statement not covered" >if (!_.isFunction(callback)) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('java.launchJvm(cb) requires its one argument to be a callback function.');</span>
  }
&nbsp;
  // Now check if the JVM has already been created. If so, we assume that the jvm was already successfully
  // launched, and we can just implement idempotent behavior, i.e. silently notify that the JVM has been created.
  else <span class="cstat-no" title="statement not covered" >if (java.isJvmCreated()) {</span>
<span class="cstat-no" title="statement not covered" >    return setImmediate(callback);</span>
  }
&nbsp;
  // Finally, queue the initializeAll function.
  else {
<span class="cstat-no" title="statement not covered" >    return setImmediate(initializeAll, callback);</span>
  }
}
&nbsp;
java.onJvmCreated = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (java.asyncOptions) {</span>
<span class="cstat-no" title="statement not covered" >    syncSuffix = java.asyncOptions.syncSuffix;</span>
<span class="cstat-no" title="statement not covered" >    asyncSuffix = java.asyncOptions.asyncSuffix;</span>
<span class="cstat-no" title="statement not covered" >    if (typeof syncSuffix !== 'string') {</span>
<span class="cstat-no" title="statement not covered" >      throw new Error('In asyncOptions, syncSuffix must be defined and must a string');</span>
    }
<span class="cstat-no" title="statement not covered" >    var promiseSuffix = java.asyncOptions.promiseSuffix;</span>
<span class="cstat-no" title="statement not covered" >    var promisify = java.asyncOptions.promisify;</span>
<span class="cstat-no" title="statement not covered" >    if (typeof promiseSuffix === 'string' &amp;&amp; typeof promisify === 'function') {</span>
<span class="cstat-no" title="statement not covered" >      var methods = ['newInstance', 'callMethod', 'callStaticMethod'];</span>
<span class="cstat-no" title="statement not covered" >      methods.forEach(<span class="fstat-no" title="function not covered" >function (name) {</span></span>
<span class="cstat-no" title="statement not covered" >        java[name + promiseSuffix] = promisify(java[name]);</span>
      });
    } else <span class="cstat-no" title="statement not covered" >if (typeof promiseSuffix === 'undefined' &amp;&amp; typeof promisify === 'undefined') {</span>
      // no promises
    } else {
<span class="cstat-no" title="statement not covered" >      throw new Error('In asyncOptions, if either promiseSuffix or promisify is defined, both most be.');</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (_.isString(java.asyncOptions.ifReadOnlySuffix) &amp;&amp; java.asyncOptions.ifReadOnlySuffix !== '') {</span>
<span class="cstat-no" title="statement not covered" >      ifReadOnlySuffix = java.asyncOptions.ifReadOnlySuffix;</span>
    }
  } else {
<span class="cstat-no" title="statement not covered" >    syncSuffix = 'Sync';</span>
<span class="cstat-no" title="statement not covered" >    asyncSuffix = '';</span>
  }
}
&nbsp;
var MODIFIER_PUBLIC = 1;
var MODIFIER_STATIC = 8;
&nbsp;
<span class="fstat-no" title="function not covered" >function isWritable(prop) {</span>
  // If the property has no descriptor, or wasn't explicitly marked as not writable or not configurable, assume it is.
  // We check both desc.writable and desc.configurable, since checking desc.writable alone is not sufficient
  // (e.g. for either .caller or .arguments).
  // It may be that checking desc.configurable is sufficient, but the specification doesn't make this definitive,
  // and there is no harm in checking both.
<span class="cstat-no" title="statement not covered" >  if (prop === 'caller' || prop === 'arguments') { <span class="cstat-no" title="statement not covered" >return false; </span>}</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var desc = Object.getOwnPropertyDescriptor(<span class="fstat-no" title="function not covered" >function() {</span>}, prop) || {};</span>
<span class="cstat-no" title="statement not covered" >  return desc.writable !== false &amp;&amp;  desc.configurable !== false;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function usableName(name) {</span>
<span class="cstat-no" title="statement not covered" >  if (!isWritable(name)) {</span>
<span class="cstat-no" title="statement not covered" >    name = name + ifReadOnlySuffix;</span>
  }
<span class="cstat-no" title="statement not covered" >  return name;</span>
}
&nbsp;
java.import = <span class="fstat-no" title="function not covered" >function(name) {</span>
<span class="cstat-no" title="statement not covered" >  var clazz = java.findClassSync(name); </span>// TODO: change to Class.forName when classloader issue is resolved.
<span class="cstat-no" title="statement not covered" >  var result = <span class="fstat-no" title="function not covered" >function javaClassConstructorProxy() {</span></span>
<span class="cstat-no" title="statement not covered" >    var args = [name];</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; arguments.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >      args.push(arguments[i]);</span>
    }
<span class="cstat-no" title="statement not covered" >    return java.newInstanceSync.apply(java, args);</span>
  };
<span class="cstat-no" title="statement not covered" >  var i;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  result.class = clazz;</span>
&nbsp;
  // copy static fields
<span class="cstat-no" title="statement not covered" >  var fields = SyncCall(clazz, 'getDeclaredFields')();</span>
<span class="cstat-no" title="statement not covered" >  for (i = 0; i &lt; fields.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var modifiers = SyncCall(fields[i], 'getModifiers')();</span>
<span class="cstat-no" title="statement not covered" >    if (((modifiers &amp; MODIFIER_PUBLIC) === MODIFIER_PUBLIC)</span>
      &amp;&amp; ((modifiers &amp; MODIFIER_STATIC) === MODIFIER_STATIC)) {
<span class="cstat-no" title="statement not covered" >      var fieldName = SyncCall(fields[i], 'getName')();</span>
<span class="cstat-no" title="statement not covered" >      var jsfieldName = usableName(fieldName);</span>
<span class="cstat-no" title="statement not covered" >      result.__defineGetter__(jsfieldName, <span class="fstat-no" title="function not covered" >function(name, fieldName) {</span></span>
<span class="cstat-no" title="statement not covered" >        return java.getStaticFieldValue(name, fieldName);</span>
      }.bind(this, name, fieldName));
<span class="cstat-no" title="statement not covered" >      result.__defineSetter__(jsfieldName, <span class="fstat-no" title="function not covered" >function(name, fieldName, val) {</span></span>
<span class="cstat-no" title="statement not covered" >        java.setStaticFieldValue(name, fieldName, val);</span>
      }.bind(this, name, fieldName));
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var promisify = undefined;</span>
<span class="cstat-no" title="statement not covered" >  var promiseSuffix;</span>
<span class="cstat-no" title="statement not covered" >  if (java.asyncOptions &amp;&amp; java.asyncOptions.promisify) {</span>
<span class="cstat-no" title="statement not covered" >    promisify = java.asyncOptions.promisify;</span>
<span class="cstat-no" title="statement not covered" >    promiseSuffix = java.asyncOptions.promiseSuffix;</span>
  }
&nbsp;
  // copy static methods
<span class="cstat-no" title="statement not covered" >  var methods = SyncCall(clazz, 'getDeclaredMethods')();</span>
<span class="cstat-no" title="statement not covered" >  for (i = 0; i &lt; methods.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var modifiers = SyncCall(methods[i], 'getModifiers')();</span>
<span class="cstat-no" title="statement not covered" >    if (((modifiers &amp; MODIFIER_PUBLIC) === MODIFIER_PUBLIC)</span>
      &amp;&amp; ((modifiers &amp; MODIFIER_STATIC) === MODIFIER_STATIC)) {
<span class="cstat-no" title="statement not covered" >      var methodName = SyncCall(methods[i], 'getName')();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (_.isString(syncSuffix)) {</span>
<span class="cstat-no" title="statement not covered" >        var syncName = usableName(methodName + syncSuffix);</span>
<span class="cstat-no" title="statement not covered" >        result[syncName] = java.callStaticMethodSync.bind(java, name, methodName);</span>
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (_.isString(asyncSuffix)) {</span>
<span class="cstat-no" title="statement not covered" >        var asyncName = usableName(methodName + asyncSuffix);</span>
<span class="cstat-no" title="statement not covered" >        result[asyncName] = java.callStaticMethod.bind(java, name, methodName);</span>
      }
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (promisify &amp;&amp; _.isString(promiseSuffix)) {</span>
<span class="cstat-no" title="statement not covered" >        var promiseName = usableName(methodName + promiseSuffix);</span>
<span class="cstat-no" title="statement not covered" >        result[promiseName] = promisify(java.callStaticMethod.bind(java, name, methodName));</span>
      }
    }
  }
&nbsp;
  // copy static classes/enums
<span class="cstat-no" title="statement not covered" >  var classes = SyncCall(clazz, 'getDeclaredClasses')();</span>
<span class="cstat-no" title="statement not covered" >  for (i = 0; i &lt; classes.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >    var modifiers = SyncCall(classes[i], 'getModifiers')();</span>
<span class="cstat-no" title="statement not covered" >    if (((modifiers &amp; MODIFIER_PUBLIC) === MODIFIER_PUBLIC)</span>
      &amp;&amp; ((modifiers &amp; MODIFIER_STATIC) === MODIFIER_STATIC)) {
<span class="cstat-no" title="statement not covered" >      var className = SyncCall(classes[i], 'getName')();</span>
<span class="cstat-no" title="statement not covered" >      var simpleName = SyncCall(classes[i], 'getSimpleName')();</span>
<span class="cstat-no" title="statement not covered" >      Object.defineProperty(result, simpleName, {</span>
        get: <span class="fstat-no" title="function not covered" >function(result, simpleName, className) {</span>
<span class="cstat-no" title="statement not covered" >          var c = java.import(className);</span>
&nbsp;
          // memoize the import
<span class="cstat-no" title="statement not covered" >          var d = Object.getOwnPropertyDescriptor(result, simpleName);</span>
<span class="cstat-no" title="statement not covered" >          d.get = <span class="fstat-no" title="function not covered" >function(c) {</span> <span class="cstat-no" title="statement not covered" >return c; </span>}.bind(null, c);</span>
<span class="cstat-no" title="statement not covered" >          Object.defineProperty(result, simpleName, d);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >          return c;</span>
        }.bind(this, result, simpleName, className),
        enumerable: true,
        configurable: true
      });
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  return result;</span>
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Mon Apr 24 2017 11:11:39 GMT+0000 (UTC)</div>
</div>
</body>
</html>
